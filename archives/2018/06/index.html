
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="AmyZhu&#39;s Blog">
    <title>Archives: 2018/6 - AmyZhu&#39;s Blog</title>
    <meta name="author" content="Amy Zhu">
    
    
        <link rel="icon" href="http://yoursite.com/assets/images/icon.png">
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <script type="application/ld+json">{}</script>
    <meta name="description" content="学而不思则罔，思而不学则殆。">
<meta property="og:type" content="blog">
<meta property="og:title" content="AmyZhu&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/archives/2018/06/index.html">
<meta property="og:site_name" content="AmyZhu&#39;s Blog">
<meta property="og:description" content="学而不思则罔，思而不学则殆。">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="AmyZhu&#39;s Blog">
<meta name="twitter:description" content="学而不思则罔，思而不学则殆。">
    
    
        
    
    
        <meta property="og:image" content="http://yoursite.com/assets/images/icon.png"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-du2xmrqdqrl2ollgeiw050kpl6l4nbyz7bumjuurjgsxyopifvukebxc9lqe.min.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">AmyZhu&#39;s Blog</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="/assets/images/icon.png" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/icon.png" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Amy Zhu</h4>
                
                    <h5 class="sidebar-profile-bio"><p>学而不思则罔，思而不学则殆。</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="Tags"
                        >
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archives"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="About"
                        >
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/AmyAmyZhu" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://www.linkedin.com/in/zefang-zhu-6a9259113/" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/zhuzefang12@gmail.com"
                            title="E-mail"
                        >
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">E-mail</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/06/29/Enable-Localization/">
                            Enable Localization
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-06-29T12:51:12-04:00">
	
		    Jun 29, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Android/">Android</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <p>When we have customized strings in an Andriod App, where are you store them? Some people choose to assign strings directly in the code. However, cosidering a good desgin patern, Andriod separates code and resources. Most of good Android developer put strings in <code>strings.xml</code> which is located under <strong>res &gt; values</strong>. This is because we can easily manipulates and customize values.</p>
<p>One of the benefits that is intuitionally affects an Andriod App is we can enable localizations. Localization means you can have multiple languages of your App based on the language users setted up. For example, if you implements your App in English, but your user is a French. You can translates values in <code>strings.xml</code> in French version, so that when user open your App, they can understand your App because the language of your App will be French.</p>
                    
                        <a href="/2018/06/29/Enable-Localization/" class="postShorten-excerpt_link link">
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/06/28/Read-and-Store-Json-Files-in-Internal-Storage/">
                            Read and Store Json Files in Internal Storage
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-06-28T11:39:53-04:00">
	
		    Jun 28, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Java/">Java</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <p>Understanding the storages in an Android device, you can easily check or transfer files in both directions: your app and the device. For example, if your app have a licence file, and you want to check the permission, you can store licence file in Android device for further updating and changing.</p>
<p>###Storages in an Android Device</p>
<p>To work with your device’s file system, do the following:</p>
<ol>
<li>Open the device file browser by clicking <strong>View &gt; Tool Windows &gt; Device File Explorer</strong>.</li>
<li>Select a device from the drop-down list.</li>
</ol>
<p>There two useful storages you can store your data:</p>
<ul>
<li>one is the internal storage, which is located at: <code>data/data/app_name/</code></li>
<li>another one is the external user storage, which is located at: <code>sdcard/</code></li>
</ul>
                    
                        <a href="/2018/06/28/Read-and-Store-Json-Files-in-Internal-Storage/" class="postShorten-excerpt_link link">
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/06/27/How-to-publish-your-Android-App/">
                            How to publish your Android App?
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-06-27T22:04:53-04:00">
	
		    Jun 27, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Android/">Android</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <h3 id="Steps"><a href="#Steps" class="headerlink" title="Steps:"></a>Steps:</h3><ol>
<li>Make sure the current version is great.</li>
<li>Change version number for all gradles.</li>
<li>Generate signed APK<ul>
<li><strong>File &gt; Project Structure</strong>, deal with Signing and Build Types</li>
<li><strong>Build &gt; Generate Signed APK</strong></li>
</ul>
</li>
<li>Wrap APK and mapping file to a binary directory. Make sure everything is consistent.</li>
<li>Add tags<ul>
<li>git tag -a X.X.X -m “some commit”</li>
<li>git push origin X.X.X</li>
<li>more info: <a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging" target="_blank" rel="noopener">https://git-scm.com/book/en/v2/Git-Basics-Tagging</a></li>
</ul>
</li>
<li>Go to Google Play, app releases to release.</li>
</ol>
                    
                        <a href="/2018/06/27/How-to-publish-your-Android-App/" class="postShorten-excerpt_link link">
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/06/27/Decode-an-Android-App-from-APK/">
                            Decode an Android App from APK
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-06-27T22:04:53-04:00">
	
		    Jun 27, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Proguard-Dexguard/">Proguard/Dexguard</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <p>If an Android App not doing encryption or obfuscation, an APK (Android application package) is easily be decoded. A reverse engineer can see its source codes and XML files.</p>
<p>Here is the procedure how to decoding .apk files to get source files.</p>
<ol>
<li>Go to project, Build -&gt; Build APK(s). After .apk file is generated, click “locate” to the path of the file.</li>
<li>Create a new folder, let’s call it “decode”.</li>
<li>Copy .apk file into decode folder. Rename the extension of it to .zip and save it. Now you can see classes.dex file in this directory.</li>
<li>Extract .zip file in decode folder.</li>
<li>Download <a href="https://sourceforge.net/projects/dex2jar/files/latest/download" target="_blank" rel="noopener">dex2jar</a> and extract it in decode directory.</li>
</ol>
                    
                        <a href="/2018/06/27/Decode-an-Android-App-from-APK/" class="postShorten-excerpt_link link">
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/06/27/Apply-Optimizer-for-Java-Bytecode-to-Gain-Security/">
                            Apply Optimizer for Java Bytecode to Gain Security
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-06-27T22:04:53-04:00">
	
		    Jun 27, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Proguard-Dexguard/">Proguard/Dexguard</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p>Based on the article I wrote: Decode Android Project from APK, we know that revise engineers can easily decode codes and get your source files. there are a number of possible vulnerabilities for unprotected mobile applications, such as insertion of malware, intellectual property theft, priacy and data theft. Therefore, we can use ProGuard or DexGuard to protect. This is a way to apply multiple obfuscation and encryption to make our source codes unreadable.</p>
<h3 id="How-to-apply-Dexguard"><a href="#How-to-apply-Dexguard" class="headerlink" title="How to apply Dexguard?"></a>How to apply Dexguard?</h3><ol>
<li>Download Dexguard file from website.</li>
<li>Add <code>dexguard.dir=/Users/../../../tools/Dexguard/DexGuard-X.X.X</code> in local.properties. Add your local position where you downloaded and put the Dexguard.</li>
<li>Add <code>apply plugin &#39;dexguard&#39;</code> in library build.gradle to enable Dexguard. It will find local.properties’ link to execute the dexguard.</li>
<li>Add <code>consumerProguardFiles &#39;proguard-rules.pro&#39;</code> and <code>proguardFile &#39;dexguard-project.txt&#39;</code> in the buildType you want to generate the obfuscation.<ul>
<li>Look at the above, we can see the dexguard rules is edited in dexguard-project.txt. This is the main place we manage obfuscation. If you don’t have dexguard-project.txt yet, create one under the main directory of your module.</li>
</ul>
</li>
<li>Now you are able to generate aar file for library we want to obfuscate. Open gradle. Find the module’s assemble task. If you choose a buildType, run the specific assemble type. For example, I choose debug type, double click <code>Library: assembleDebug</code> in the build.</li>
</ol>
<h3 id="If-you-face-any-problems-it-might-be"><a href="#If-you-face-any-problems-it-might-be" class="headerlink" title="If you face any problems, it might be:"></a>If you face any problems, it might be:</h3><ol>
<li>clean up build. It is the same way you run the assemble. For example, find <code>Library: clean</code> under build gradle.</li>
<li>Dexguard terminates whenever there is a warning or error. Use –stacktrace or –debug to get more info of what is happening. If there are many warnings. You can add <code>dontwarn com.package.**</code> in dexguard-project.txt to avoid warnings.</li>
</ol>
<p>If you generate successfully, you will get a .aar file under build/output/aar. This is the library export file. If you are generating an app, you can also see the .jar file under build/output.</p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/06/27/Apply-Optimizer-for-Java-Bytecode-to-Gain-Security/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/06/27/Maunally-Import-a-Library-in-an-Android-Project/">
                            Maunally Import a Library in an Android Project
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-06-27T22:04:53-04:00">
	
		    Jun 27, 2018
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Android/">Android</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <p>Sometimes we use third-party library, or we implements a module and want it to be a part of our main code’s library. In both scenarios, we can import a library as a module.</p>
<h3 id="How-to-import-a-library-in-Android-Studio"><a href="#How-to-import-a-library-in-Android-Studio" class="headerlink" title="How to import a library in Android Studio?"></a>How to import a library in Android Studio?</h3><ol>
<li><strong>File &gt; New &gt; Import modlue &gt; add the library path</strong>.</li>
<li>Change library module gradle:<ol>
<li>Change <code>“apply plugin: ‘com.android.application’”</code> to <code>“apply plugin: ‘com.android.library’”</code></li>
<li>Remove applicationId.</li>
</ol>
</li>
<li>Change dependency from “compile” to “implementation”</li>
<li><strong>File &gt; Project Structure &gt; app &gt; Dependencies</strong>, add module library.</li>
<li>Downgrade gradle version in project gradle to “2.3.3” or “2.3.2”</li>
<li>Put/Change “buildToolsVersion “27.0.1” and “useLibrary ‘org.apache.http.legacy’” in app and carto library module.</li>
</ol>
                    
                        <a href="/2018/06/27/Maunally-Import-a-Library-in-an-Android-Project/" class="postShorten-excerpt_link link">
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">page 1 of 1</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 Amy Zhu. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/icon.png" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Amy Zhu</h4>
        
            <div id="about-card-bio"><p>学而不思则罔，思而不学则殆。</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Mapsted Software Engineer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Toronto, ON
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover-v1.2.0.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-vufjrm3fmbuttogo1hxuu0w9w0sesk5iyysjuguc2hdhufot9szxg8twijry.min.js"></script>
<!--SCRIPTS END-->



    </body>
</html>
